## 项目设计
设计一个车站售票管理系统。 面向长途汽车与火车
要求： 
1.对于用户：具有方便、快速的售票功能，包括车票的预订和退票功能，能够支持团体的预订票和退票；
2.对于用户：能准确地了解售票情况，提供多种查询和统计功能，如车次的查洵、时刻表的查询；
3.对于管理员：能按情况所需实现对车次的更改、票价的变动及调度功能； 
4.对于管理员：完善的报表系统。

## 功能描述
### 用户界面
- 登陆/注册账号，一个账号为(用户名-密码形式，无需涉及到手机号/邮箱，但是一个账号需要绑定一个人的名字)支持找回密码(由于我既没有发邮件功能也没有发短信功能，因此只需要用户在注册时回答一个问题(如你的外号是...)，根据回答这个问题可以reset密码)
- 车次查询(根据日期查询，根据出发地查询，根据出发地-目的地查询，根据出发站-目的站查询，根据时刻查询)
- 车票预订和退票(不需要实现支付功能，就是点击预定即可，模拟一下)，预定后可在“我的订单”显示已预定车票信息。并可以退票。
- 支持团体订票和退票，订票时需要输入团体中所有人的信息

### 管理员界面
管理员无需注册，只有一个管理员，用户名为Admin,密码为23336326
- 可添加车次/删减车次
- 可添加城市，添加火车站
- 可以更改车次信息，如票价，发车时间，全过程时长，以及是否延误，延误多少分钟。其中修改票价信息可以对同一起始站到终点站的线路统一修改。
- 可以随时导出报表系统

### 扩展功能
你可以根据实际情况进行功能的完善，扩展

## 数据库设计
数据库设计是本项目的重点

### 关系模式
你设计的数据库关系中，必须至少包含但不限于以下我的建议，你也可以按需做调整。
#### 线路、车次相关
- 线路信息表（Route）：用于记录固定的路线（A→B 及沿途站点）
- 车站信息表（Station） | station_id (PK) | station_name | location | type(汽车/火车) |
- 线路站点表（Route_Station）
描述线路由哪些站点组成及顺序
| id | route_id (FK) | station_id (FK) | order_no | arrival_time | depart_time |

#### 每日班次 / 调度相关
- 班次表（Schedule）

“车次”可理解为每日某个具体班次（例如 K120 次 2025-12-05）
| schedule_id (PK) | route_id | vehicle_id | departure_date | departure_time | arrival_time | price_base | status(正常/取消/延误) |
支持管理员对班次动态调整。

- 车辆/车厢/座位结构表（Vehicle）
| vehicle_id (PK) | vehicle_type | seat_count | seat_layout | remark |

- 座位表（Seat）（可选：火车按车厢/座位，客车按座位编号）
| seat_id (PK) | vehicle_id | seat_no | seat_type | status |

#### 售票、预订、退票业务
- 订单表（Order）

记录一次购票行为（个人或团体）
| order_id (PK) | user_id | schedule_id | order_time | total_amount | status(预订/已支付/已退票/团体) |

- 车票表（Ticket）

每一张票都是独立记录
| ticket_id (PK) | order_id | schedule_id | seat_id | passenger_name | card_id | price | status(已售/预订/退票) |

- 退票记录表（Refund）

| refund_id (PK) | ticket_id | refund_time | refund_amount | refund_reason |

#### 用户与权限
- 用户表（User） ← 注册、登录核心表
- 管理员操作日志表（Admin_Log）

#### 会话表
Session
---------
session_id (PK)
user_id (FK)
login_time
expire_time
token
device_info



设计好关系模式后请生成一个markdown文件详细描述你设计的关系模式，且要生成一个简易ER图，例子如下图所示：
```
Station 1—N Route_Station N—1 Route
Route 1—N Schedule
Schedule 1—N Order
Order 1—N Ticket
Schedule 1—N Ticket
Vehicle 1—N Seat
Vehicle 1—N Schedule
Ticket 1—0..1 Refund

User 1—N Order
```

### 物理结构设计
#### 索引设计
设置合适的索引支持高频查询

#### 并发设计
需要设计事务等支持并发操作：
保证同一个座位不会被同时买走、两个用户同时买同一个座位时，一个会失败等等
最好能使用一些支持高并发的trick

## 前端界面要求
顶部要有导航栏，其余要求参考功能描述即可。
网页的logo为“22306”订票系统
## 开发环境与代码框架
开发环境为本机Windows，数据库为本机中的mysql，mysql登陆密码为123456。
前端使用html+css+javascript，后端使用python flask。请用规范的文件夹组织和命名(如template、static等，全部代码文件包含在./app里，主目录有入口程序run.py即可)
编写好项目后，请产出以下文档：
- 功能需求分析：描述系统功能模块
- 系统需求分析：主要为系统数据字典
- 数据库关系模式设计，包含ER图，以及你详细使用到的关系
- 数据库设计，包含索引、事务、并发设计等一切你使用到的tricks
- 系统功能的实现描述，包含主要功能模块的实现过程

并告诉我如何通过入口代码启动项目